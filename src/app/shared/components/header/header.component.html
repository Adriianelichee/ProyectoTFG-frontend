<header class="site-header">
  <div class="container">
    <div class="header-content">
      <div class="logo">
        <a routerLink="/">
          <img src="/coworking-logo.jpg" alt="CoWork Space Logo" class="logo-image">
          <span class="logo-text">Cowork Space</span>
        </a>
      </div>

      <nav class="main-nav">
        <ul class="nav-list">
          <li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
            <i class="fas fa-home"></i> Inicio
          </a></li>
          <li><a routerLink="/floors" routerLinkActive="active">
            <i class="fas fa-building"></i> Espacios
          </a></li>
          <li><a routerLink="/rooms" routerLinkActive="active">
            <i class="fas fa-door-open"></i> Salas
          </a></li>
          <li><a routerLink="/workstations" routerLinkActive="active">
            <i class="fas fa-laptop"></i> Estaciones
          </a></li>
          <li><a routerLink="/services" routerLinkActive="active">
            <i class="fas fa-concierge-bell"></i> Servicios
          </a></li>
          <li><a routerLink="/about" routerLinkActive="active">
            <i class="fas fa-info-circle"></i> Nosotros
          </a></li>
        </ul>
      </nav>

      <div class="auth-buttons">
        <ng-container *ngIf="!isLoggedIn; else loggedInTemplate">
          <a routerLink="/auth/login" class="btn-login"><i class="fas fa-sign-in-alt"></i> Iniciar sesión</a>
          <a routerLink="/auth/register" class="btn-register"><i class="fas fa-user-plus"></i> Registrarse</a>
        </ng-container>
        <ng-template #loggedInTemplate>
          <div class="user-menu">
            <button class="user-menu-btn" (click)="toggleUserMenu()">
              <i class="fas fa-user-circle"></i>
              <span>{{ userName }}</span>
              <i class="fas fa-chevron-down"></i>
            </button>
            <div class="user-dropdown" [class.show]="showUserMenu">
              <a routerLink="/profile">
                <i class="fas fa-user"></i> Mi perfil
              </a>
              <a routerLink="/auth/register" *ngIf="isAdmin || isSecretary">
                <i class="fas fa-user-plus"></i> Registrar Usuario
              </a>
              <a routerLink="/companies/new" *ngIf="isAdmin">
                <i class="fas fa-building"></i> Registrar Compañía
              </a>
              <a *ngIf="userHasReservationsOrServices" routerLink="services/cleaning/new">
                <i class="fas fa-broom"></i> Solicitar Limpieza
              </a>
              <a *ngIf="userHasReservationsOrServices" routerLink="/reports/view">
                <i class="fas fa-clipboard-list"></i> Mis reportes
              </a>
              <a href="#" (click)="logout($event)">
                <i class="fas fa-sign-out-alt"></i> Cerrar sesión
              </a>
            </div>
          </div>
        </ng-template>
      </div>

      <button class="mobile-menu-toggle" (click)="toggleMobileMenu()">
        <i class="fas" [ngClass]="{'fa-bars': !showMobileMenu, 'fa-times': showMobileMenu}"></i>
      </button>
    </div>

    <div class="mobile-nav" [class.show]="showMobileMenu">
      <ul class="mobile-nav-list">
        <li><a routerLink="/" (click)="closeMobileMenu()"><i class="fas fa-home"></i> Inicio</a></li>
        <li><a routerLink="/floors" (click)="closeMobileMenu()"><i class="fas fa-building"></i> Espacios</a></li>
        <li><a routerLink="/rooms" (click)="closeMobileMenu()"><i class="fas fa-door-open"></i> Salas</a></li>
        <li><a routerLink="/workstations" (click)="closeMobileMenu()"><i class="fas fa-laptop"></i> Estaciones</a></li>
        <li><a routerLink="/services" (click)="closeMobileMenu()"><i class="fas fa-concierge-bell"></i> Servicios</a>
        </li>
        <li><a routerLink="/payments" (click)="closeMobileMenu()"><i class="fas fa-credit-card"></i> Pagos</a></li>
        <li><a routerLink="/about" (click)="closeMobileMenu()"><i class="fas fa-info-circle"></i> Nosotros</a></li>
        <li *ngIf="!isLoggedIn"><a routerLink="/auth/login" (click)="closeMobileMenu()"><i
          class="fas fa-sign-in-alt"></i> Iniciar sesión</a></li>
        <li *ngIf="!isLoggedIn"><a routerLink="/auth/register" (click)="closeMobileMenu()"><i
          class="fas fa-user-plus"></i> Registrarse</a></li>
        <li *ngIf="isLoggedIn"><a routerLink="/profile" (click)="closeMobileMenu()"><i class="fas fa-user"></i> Mi
          perfil</a></li>
        <li *ngIf="isLoggedIn"><a routerLink="/reservations" (click)="closeMobileMenu()"><i
          class="fas fa-calendar-check"></i> Mis reservas</a></li>
        <li *ngIf="isLoggedIn"><a routerLink="/payments" (click)="closeMobileMenu()"><i class="fas fa-credit-card"></i>
          Mis pagos</a></li>
        <li *ngIf="isAdmin"><a routerLink="/auth/register" (click)="closeMobileMenu()" class="admin-action"><i
          class="fas fa-user-plus"></i> Registrar usuario</a></li>
        <li *ngIf="isLoggedIn"><a href="#" (click)="logout($event); closeMobileMenu()"><i
          class="fas fa-sign-out-alt"></i> Cerrar sesión</a></li>
      </ul>
    </div>
  </div>
</header>
